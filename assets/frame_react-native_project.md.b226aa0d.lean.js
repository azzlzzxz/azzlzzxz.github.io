import{_ as a,o as n,c as l,N as e}from"./chunks/framework.2f525601.js";const F=JSON.parse('{"title":"项目搭建","description":"","frontmatter":{},"headers":[],"relativePath":"frame/react-native/project.md","lastUpdated":1728801256000}'),p={name:"frame/react-native/project.md"};function o(c,s,r,t,i,D){return n(),l("div",null,s[0]||(s[0]=[e(`<h1 id="项目搭建" tabindex="-1">项目搭建 <a class="header-anchor" href="#项目搭建" aria-label="Permalink to &quot;项目搭建&quot;">​</a></h1><p>使用 <code>React Native</code> 内建的命令行工具来创建一个名为<code>&quot;AwesomeProject&quot;</code>的新项目</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">react-native@latest</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">init</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">AwesomeProject</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://steinsgate.oss-cn-hangzhou.aliyuncs.com/react-native-project.jpg" alt="react-native-project"></p><h2 id="android-目录" tabindex="-1"><code>Android</code> 目录 <a class="header-anchor" href="#android-目录" aria-label="Permalink to &quot;\`Android\` 目录&quot;">​</a></h2><p><img src="https://steinsgate.oss-cn-hangzhou.aliyuncs.com/react-native-andriod.jpg" alt="react-native-android"></p><h2 id="ios-目录" tabindex="-1"><code>ios</code> 目录 <a class="header-anchor" href="#ios-目录" aria-label="Permalink to &quot;\`ios\` 目录&quot;">​</a></h2><p><img src="https://steinsgate.oss-cn-hangzhou.aliyuncs.com/react-native-ios.jpg" alt="react-native-ios"></p><h2 id="路由" tabindex="-1">路由 <a class="header-anchor" href="#路由" aria-label="Permalink to &quot;路由&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="https://reactnavigation.org/docs/getting-started/" target="_blank" rel="noreferrer">React Navigation</a></p></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">@react-navigation/native</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="stack-导航" tabindex="-1"><code>Stack</code> 导航 <a class="header-anchor" href="#stack-导航" aria-label="Permalink to &quot;\`Stack\` 导航&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="https://reactnavigation.org/docs/stack-navigator" target="_blank" rel="noreferrer">Stack 文档</a></p><p><code>Stack Navigator</code> 为您的应用提供了一种在屏幕之间转换的方法，其中每个新屏幕都位于堆栈的顶部。</p><p>默认情况下，堆栈导航器配置为具有熟悉的 <code>iOS</code> 和 <code>Android</code> 外观和感觉：<code>iOS</code> 上的新屏幕从右侧滑入，<code>Android</code> 上使用操作系统默认动画</p></div><ul><li><code>RN</code>中是没有<code>web</code>端的<code>history</code>对象的，在使用路由之前需要将组件先声明在<code>Stack</code>中</li></ul><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;">NavigationContainer</span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@react-navigation/native</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">createStackNavigator</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@react-navigation/stack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> Stack </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">createStackNavigator</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> HomeScreen </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">({})</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onPress</span><span style="color:#89DDFF;">={()</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">void</span><span style="color:#BABED8;"> navigation</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">navigate</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Details</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">} </span><span style="color:#C792EA;">title</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">跳转到详情页</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    )</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">export const App = () =&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">return</span><span style="color:#BABED8;"> (</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">NavigationContainer</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Stack.Navigator</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">initialRouteName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Details</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">                </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Stack.Screen</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Home</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">component</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">HomeScreen</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Stack.Navigator</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">NavigationContainer</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    )</span></span>
<span class="line"><span style="color:#BABED8;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>可以看出来，重要的是：<code>Stack.Navigator</code> ，<code>Stack.Screen</code>和<code>navigation.navigate</code>。</p><h4 id="navigator属性" tabindex="-1"><code>Navigator</code>属性 <a class="header-anchor" href="#navigator属性" aria-label="Permalink to &quot;\`Navigator\`属性&quot;">​</a></h4><ul><li><code>initialRouteName</code>：导航器首次加载时呈现的路由名称</li><li><code>presentation</code>: 快捷选项，它配置了几个选项来配置渲染和过渡的样式 <ul><li><code>card</code></li><li><code>modal</code></li><li><code>transparentModal</code></li></ul></li><li><code>header</code>： 使用自定义标头来代替默认标头，它接受一个函数，该函数返回一个 <code>React Element</code> 以显示为标题。</li><li><code>screenOptions</code>：导航器中屏幕使用的默认选项</li><li>...</li></ul><h4 id="screen属性" tabindex="-1"><code>Screen</code>属性 <a class="header-anchor" href="#screen属性" aria-label="Permalink to &quot;\`Screen\`属性&quot;">​</a></h4><ul><li><code>options</code><ul><li><code>title</code></li><li><code>headerTitleStyle</code></li><li><code>headerStyle</code></li><li><code>headerLeft</code></li><li><code>headerRight</code></li><li><code>headerTinyColor</code></li></ul></li></ul><h4 id="路由跳转" tabindex="-1">路由跳转 <a class="header-anchor" href="#路由跳转" aria-label="Permalink to &quot;路由跳转&quot;">​</a></h4><ol><li><code>replace</code></li></ol><p>使用堆栈中的新屏幕替换当前屏幕。该方法接受以下参数：</p><ul><li><code>name</code>-字符串- 要推送到堆栈的路由的名称。</li><li><code>params</code>-对象- 传递给目标路线的屏幕参数。</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">navigation.replace(</span><span style="color:#FFCB6B;">&#39;Profile&#39;</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">owner:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Michaś</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li><code>push</code></li></ol><p>将新屏幕推送到堆栈顶部并导航至该屏幕。该方法接受以下参数：</p><ul><li><code>name</code>-字符串- 要推送到堆栈的路由的名称。</li><li><code>params</code>-对象- 传递给目标路线的屏幕参数。</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">navigation.push(</span><span style="color:#FFCB6B;">&#39;Profile&#39;</span><span style="color:#FFCB6B;">,</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">owner:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Michaś</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li><code>pop</code></li></ol><p>从堆栈中弹出当前屏幕并导航回上一个屏幕。它需要一个可选参数 <code>( count)</code>，允许您指定要弹出的屏幕数。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">navigation.pop</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li><code>popToTop</code> 弹出堆栈中除第一个屏幕之外的所有屏幕并导航到该屏幕。</li></ol><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">navigation.popToTop</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="bottom-tabs导航" tabindex="-1"><code>Bottom Tabs</code>导航 <a class="header-anchor" href="#bottom-tabs导航" aria-label="Permalink to &quot;\`Bottom Tabs\`导航&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="https://reactnavigation.org/docs/bottom-tab-navigator" target="_blank" rel="noreferrer">Bottom Tabs 文档</a></p><p>屏幕底部的简单标签栏可让您在不同路线之间切换。路由是延迟初始化的 - 它们的屏幕组件直到首次获得焦点时才会初始化。</p></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">@react-navigation/bottom-tabs</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>举个 🌰：</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">createBottomTabNavigator</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@react-navigation/bottom-tabs</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> Tab </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">createBottomTabNavigator</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">MyTabs</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Tab.Navigator</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Tab.Screen</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Home</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">component</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">HomeScreen</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Tab.Screen</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Settings</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">component</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">SettingsScreen</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Tab.Navigator</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="drawer导航" tabindex="-1"><code>Drawer</code>导航 <a class="header-anchor" href="#drawer导航" aria-label="Permalink to &quot;\`Drawer\`导航&quot;">​</a></h3><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="https://reactnavigation.org/docs/drawer-navigator" target="_blank" rel="noreferrer">Drawer Navigator 文档</a> Drawer Navigator 在屏幕侧面呈现一个导航抽屉，可以通过手势打开和关闭。</p></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">@react-navigation/drawer</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>举个 🌰：</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">createDrawerNavigator</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@react-navigation/drawer</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> Drawer </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">createDrawerNavigator</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">MyDrawer</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Drawer.Navigator</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Drawer.Screen</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Feed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">component</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">Feed</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Drawer.Screen</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Article</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">component</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">Article</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Drawer.Navigator</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="ui-组件库" tabindex="-1">UI 组件库 <a class="header-anchor" href="#ui-组件库" aria-label="Permalink to &quot;UI 组件库&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="https://docs.nativebase.io/?utm_source=HomePage&amp;utm_medium=header&amp;utm_campaign=NativeBase_3" target="_blank" rel="noreferrer">NativeBase</a></p></div><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">native-base</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">react-native-svg@12.1.1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">react-native-safe-area-context@3.3.2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ios/</span></span>
<span class="line"><span style="color:#FFCB6B;">pod</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="自定义配置" tabindex="-1">自定义配置 <a class="header-anchor" href="#自定义配置" aria-label="Permalink to &quot;自定义配置&quot;">​</a></h3><p>在根目录下建一个 theme.ts 文件</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">extendTheme</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">native-base</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> theme </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">extendTheme</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">colors</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">primary</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#2F72FF</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#5B74FA</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">back</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F78C6C;">50</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#0f0e0e</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#FAFAFA</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#E0E0E0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>在 App.ts 里引入</p><div class="language-jsx line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> React </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">NavigationContainer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@react-navigation/native</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">NativeBaseProvider</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">native-base</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Permission </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@/components/Permission</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">theme</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../theme</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">App</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">NativeBaseProvider</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">theme</span><span style="color:#89DDFF;">={</span><span style="color:#BABED8;">theme</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">NavigationContainer</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Permission</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">NavigationContainer</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">NativeBaseProvider</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> App</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="环境配置" tabindex="-1">环境配置 <a class="header-anchor" href="#环境配置" aria-label="Permalink to &quot;环境配置&quot;">​</a></h2><p>使用<code>react-native-dotenv</code>来区分、配置环境</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">add</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">react-native-dotenv</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>配置</p><p><code>babel.config.js</code> 配置</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">presets</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">module:@react-native/babel-preset</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">    [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">module:react-native-dotenv</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>package.json</code> 配置</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-native run-android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">ios</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">react-native run-ios</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    + </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">android-release</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cd android &amp;&amp; ENVFILE=.env.production &amp;&amp; ./gradlew assembleRelease</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    + </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">android-clean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cd android &amp;&amp; ./gradlew clean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    ...</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://steinsgate.oss-cn-hangzhou.aliyuncs.com/env.png" alt="env"></p><p>使用</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">fetch</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#BABED8;">process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">env</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">API_URL</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/users</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">headers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">Authorization</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">Bearer </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">env</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">API_TOKEN</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">API_URL</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">API_TOKEN</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@env</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">fetch</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#BABED8;">API_URL</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">/users</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">headers</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">Authorization</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">Bearer </span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">API_TOKEN</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="本地存储" tabindex="-1">本地存储 <a class="header-anchor" href="#本地存储" aria-label="Permalink to &quot;本地存储&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><a href="https://github.com/react-native-async-storage/async-storage" target="_blank" rel="noreferrer">async-storage 文档</a></p></div><h2 id="更改-react-native-应用的名称" tabindex="-1">更改 <code>React Native</code> 应用的名称 <a class="header-anchor" href="#更改-react-native-应用的名称" aria-label="Permalink to &quot;更改 \`React Native\` 应用的名称&quot;">​</a></h2><h3 id="更改android名称" tabindex="-1">更改<code>android</code>名称 <a class="header-anchor" href="#更改android名称" aria-label="Permalink to &quot;更改\`android\`名称&quot;">​</a></h3><ol><li>修改 <code>AndroidManifest.xml</code> 文件：</li></ol><ul><li>打开项目目录中的 <code>android</code> 文件夹。</li><li>在 <code>android/app/src/main</code> 目录下找到 <code>AndroidManifest.xml</code> 文件。</li><li>找到 <code>android:label</code> 属性，并将其值修改为你想要的新应用名称。</li></ul><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">application</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.MainApplication</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">android</span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">label</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NewAppName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> ...&gt;&lt;/</span><span style="color:#F07178;">application</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>修改 <code>strings.xml</code> 文件：</li></ol><ul><li>在 <code>android/app/src/main/res/values</code> 目录下找到 <code>strings.xml</code> 文件。</li><li>修改 <code>app_name</code> 键的值为你想要的新应用名称。</li></ul><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">resources</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">string</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app_name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">NewAppName</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">string</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">resources</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="更改ios名称" tabindex="-1">更改<code>ios</code>名称 <a class="header-anchor" href="#更改ios名称" aria-label="Permalink to &quot;更改\`ios\`名称&quot;">​</a></h3><ol><li>修改 <code>Info.plist</code> 文件：</li></ol><ul><li>打开 <code>Xcode</code>，找到项目目录中的 <code>ios</code> 文件夹。</li><li>在 <code>ios</code> 文件夹中找到 <code>Info.plist</code> 文件。</li><li>找到 <code>CFBundleName</code> 键，并将其值修改为你想要的新应用名称。</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">key</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">CFBundleName</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">/key</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">string</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">NewAppName</span><span style="color:#89DDFF;">&lt;</span><span style="color:#BABED8;">/string</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>修改 <code>project.pbxproj</code> 文件（可选）：</li></ol><ul><li>打开 <code>Xcode</code>，找到项目目录中的 <code>ios</code> 文件夹。</li><li>在 <code>ios</code> 文件夹中找到 <code>{project_name}.xcodeproj</code> 文件夹，并打开它。</li><li>打开 <code>project.pbxproj</code> 文件,搜索旧的应用名称并将其替换为新的应用名称。这一步主要用于更改显示的应用名称。</li></ul><h2 id="更改-react-native-应用的图标" tabindex="-1">更改 <code>React Native</code> 应用的图标 <a class="header-anchor" href="#更改-react-native-应用的图标" aria-label="Permalink to &quot;更改 \`React Native\` 应用的图标&quot;">​</a></h2><p>可以使用第三方工具来生成所需的图标集。例如：<a href="https://www.appicon.co/" target="_blank" rel="noreferrer">App Icon Generator</a> 允许你上传一个大尺寸图标，并生成不同尺寸的 <code>iOS</code> 和 <code>Android</code> 图标。</p><h3 id="替换android图标" tabindex="-1">替换<code>android</code>图标 <a class="header-anchor" href="#替换android图标" aria-label="Permalink to &quot;替换\`android\`图标&quot;">​</a></h3><ul><li>打开 <code>android/app/src/main/res</code> 目录。</li><li>在 <code>res</code> 目录中，你会找到多个 <code>mipmap-</code> 前缀的文件夹，如 <code>mipmap-mdpi</code>, <code>mipmap-hdpi</code> 等。</li><li>将准备好的图标分别替换到这些文件夹中，确保命名为 <code>ic_launcher.png</code></li><li>如果需要适配 <code>Android 8.0</code> 及以上的圆形图标，可以在 <code>res</code> 目录下的 <code>mipmap-anydpi-v26</code> 文件夹中替换 <code>ic_launcher.xml</code> 和 <code>ic_launcher_round.xml</code>。</li></ul><h3 id="替换ios图标" tabindex="-1">替换<code>ios</code>图标 <a class="header-anchor" href="#替换ios图标" aria-label="Permalink to &quot;替换\`ios\`图标&quot;">​</a></h3><ul><li>打开 <code>ios</code> 目录，然后找到 <code>AppIcon</code> 资源目录，路径通常是 <code>ios/YourProjectName/Images.xcassets/AppIcon.appiconset</code>。</li><li>将你准备好的图标拖到 <code>AppIcon.appiconset</code> 中，替换现有的图标文件。确保命名和尺寸对应。</li><li>在 <code>AppIcon.appiconset</code> 目录中，有一个名为 <code>Contents.json</code> 的文件。确保每个图标都有相应的 <code>JSON</code> 配置。</li></ul><h2 id="发布" tabindex="-1">发布 <a class="header-anchor" href="#发布" aria-label="Permalink to &quot;发布&quot;">​</a></h2><h3 id="android-发布" tabindex="-1">Android 发布 <a class="header-anchor" href="#android-发布" aria-label="Permalink to &quot;Android 发布&quot;">​</a></h3><p>生成一个签名密钥，你可以用<code>keytool</code>命令生成一个私有密钥。</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">keytool</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-genkeypair</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-storetype</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">PKCS12</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-keystore</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">my-release-key.keystore</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-alias</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">my-key-alias</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-keyalg</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">RSA</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-keysize</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2048</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-validity</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">10000</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>这条命令会要求你输入密钥库<code>（keystore）</code>和对应密钥的密码，然后设置一些发行相关的信息。最后它会生成一个叫做 <code>my-release-key.keystore </code>的密钥库文件。</p><p>在运行上面这条语句之后，密钥库里应该已经生成了一个单独的密钥，有效期为 10000 天。<code>--alias</code> 参数后面的别名是你将来为应用签名时所需要用到的，所以记得记录这个别名。</p><h4 id="设置-gradle-变量" tabindex="-1">设置 gradle 变量 <a class="header-anchor" href="#设置-gradle-变量" aria-label="Permalink to &quot;设置 gradle 变量&quot;">​</a></h4><ul><li>把<code>my-release-key.keystore</code>文件放到你工程中的<code>android/app</code>文件夹下。</li><li>编辑<code>~/.gradle/gradle.properties</code>（全局配置，对所有项目有效）或是项目目录<code>/android/gradle.properties</code>（项目配置，只对所在项目有效）。如果没有<code>gradle.properties</code>文件你就自己创建一个，添加如下的代码（注意把其中的****替换为相应密码）</li></ul><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">MYAPP_RELEASE_STORE_FILE</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">my-release-key.keystore</span></span>
<span class="line"><span style="color:#BABED8;">MYAPP_RELEASE_KEY_ALIAS</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">my-key-alias</span></span>
<span class="line"><span style="color:#BABED8;">MYAPP_RELEASE_STORE_PASSWORD</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">*****</span></span>
<span class="line"><span style="color:#BABED8;">MYAPP_RELEASE_KEY_PASSWORD</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">*****</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>编辑你项目目录下的<code>android/app/build.gradle</code>，添加如下的签名配置：</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">android </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">    defaultConfig </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    signingConfigs </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        release </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">project</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hasProperty</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">MYAPP_RELEASE_STORE_FILE</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">))</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                storeFile </span><span style="color:#82AAFF;">file</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">MYAPP_RELEASE_STORE_FILE</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">                storePassword </span><span style="color:#C792EA;">MYAPP_RELEASE_STORE_PASSWORD</span></span>
<span class="line"><span style="color:#BABED8;">                keyAlias </span><span style="color:#C792EA;">MYAPP_RELEASE_KEY_ALIAS</span></span>
<span class="line"><span style="color:#BABED8;">                keyPassword </span><span style="color:#C792EA;">MYAPP_RELEASE_KEY_PASSWORD</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    buildTypes </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        release </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#BABED8;">            signingConfig signingConfigs</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">release</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">...</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="发布-apk-包" tabindex="-1">发布 APK 包 <a class="header-anchor" href="#发布-apk-包" aria-label="Permalink to &quot;发布 APK 包&quot;">​</a></h4><p>运行脚本 <code>android-release</code></p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">android-release</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cd android &amp;&amp; ENVFILE=.env.production &amp;&amp; ./gradlew assembleRelease</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">android-clean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cd android &amp;&amp; ./gradlew clean</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    ...</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>生成的 <code>APK</code> 文件位于<code>android/app/build/outputs/apk/release/app-release.apk</code>，它已经可以用来发布了。</p><p>可以使用<a href="https://www.pgyer.com/" target="_blank" rel="noreferrer">蒲公英</a>来帮助你发布应用</p><h3 id="ios-发布" tabindex="-1">iOS 发布 <a class="header-anchor" href="#ios-发布" aria-label="Permalink to &quot;iOS 发布&quot;">​</a></h3><p>在将 <code>React Native</code> 应用发布到 <code>Apple App Store</code> 之前，需要完成一系列步骤：</p><ol><li>创建 <code>Apple Developer</code> 帐户</li></ol><ul><li>如果还没有 <code>Apple Developer</code> 帐户，请前往 <a href="https://developer.apple.com/" target="_blank" rel="noreferrer">Apple Developer</a> 注册。</li></ul><ol start="2"><li>配置 <code>Xcode</code> 项目</li></ol><ul><li>打开 <code>ios</code> 文件夹中的 <code>.xcworkspace</code> 文件（使用 <code>Xcode</code> 打开）。</li><li>在 <code>Xcode</code> 中选择项目文件（通常在左侧的导航栏中显示为蓝色的项目图标）。</li><li>在项目的<code>“General”</code>选项卡中，填写以下信息： <ul><li><code>Display Name</code>: 你想要在 <code>App Store</code> 中显示的名称。</li><li><code>Bundle Identifier</code>: 你的应用程序唯一标识符（例如<code>com.yourcompany.yourapp</code>）。</li><li><code>Version</code> 和 <code>Build</code>: 应用程序的版本号和构建号。</li></ul></li></ul><ol start="3"><li><p>创建 <code>App ID</code> 和 <code>Provisioning Profile</code></p><p>在 <code>Apple Developer</code> 网站上：</p><ul><li>登录 <code>Apple Developer</code> 帐户。</li><li>导航到 <code>Certificates</code>, <code>Identifiers</code> &amp; <code>Profiles</code>。</li><li>创建一个 <code>App ID</code>（确保与 <code>Xcode</code> 项目中的 <code>Bundle Identifier</code>匹配）。</li><li>创建一个 <code>Distribution Certificate</code>。</li><li>创建一个 <code>App Store Distribution Provisioning Profile</code>，并下载到本地。</li></ul></li><li><p>配置 <code>Xcode</code> 项目使用 <code>Provisioning Profile</code></p></li></ol><ul><li>打开 <code>Xcode</code>，选择项目。</li><li>导航到项目的<code>“Signing &amp; Capabilities”</code>选项卡。</li><li>选择对应的 <code>Team</code>（开发者团队）。</li><li>选择刚刚创建的 <code>Provisioning Profile</code>。</li></ul><ol start="5"><li>使用 <code>Xcode</code> 构建</li></ol><ul><li>选择 <code>iOS</code> 设备（或 <code>Generic iOS Device</code>）。</li><li>在菜单栏中选择 <code>Product</code> &gt; <code>Archive</code>。</li></ul><ol start="6"><li>使用 <code>Xcode</code> 上传到 <code>App Store Connect</code></li></ol><ul><li>在 <code>Archive</code> 完成后，会打开 <code>Organizer</code> 窗口。</li><li>选择刚刚创建的 <code>Archive</code> 并点击 <code>Distribute App</code>。</li><li>选择 <code>App Store Connect</code> &gt; <code>Upload</code>。</li><li>按照提示完成上传。</li></ul><ol start="7"><li>在 <code>App Store Connect</code> 配置</li></ol><ul><li>登录 <a href="https://appstoreconnect.apple.com/" target="_blank" rel="noreferrer">App Store Connect</a>。</li><li>创建一个新的 <code>App</code>（如果这是第一次提交该应用）。</li><li>填写应用程序信息（如名称、描述、分类等）。</li><li>在<code>“App Information”</code>中，设置版本号和构建号。</li><li>在<code>“Pricing and Availability”</code>中设置应用的价格和可用性。</li><li>在<code>“Prepare for Submission”</code>中，添加应用程序截图、图标等资源。</li></ul><ol start="8"><li>提交应用进行审核</li></ol><ul><li>在 <code>App Store Connect</code> 中，选择刚刚上传的构建版本。</li><li>点击<code>“Submit for Review”</code>。</li><li>按照提示填写所需信息并提交应用。</li></ul><h3 id="等待审核和发布" tabindex="-1">等待审核和发布 <a class="header-anchor" href="#等待审核和发布" aria-label="Permalink to &quot;等待审核和发布&quot;">​</a></h3><ul><li>一旦应用通过审核，你会收到通知。</li><li>应用通过审核后，将会在 <code>App Store</code> 上发布，用户可以下载和使用。</li></ul><h3 id="额外步骤" tabindex="-1">额外步骤 <a class="header-anchor" href="#额外步骤" aria-label="Permalink to &quot;额外步骤&quot;">​</a></h3><ul><li><strong>测试应用</strong>：在提交审核前，可以使用 <code>TestFlight</code> 进行测试。</li><li><strong>更新版本</strong>：在发布后，如果需要更新应用版本，修改版本号并重复上述步骤。</li></ul>`,124)]))}const d=a(p,[["render",o]]);export{F as __pageData,d as default};
