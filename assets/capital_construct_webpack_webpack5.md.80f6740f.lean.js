import{_ as n,o as a,c as l,N as p}from"./chunks/framework.2f525601.js";const o="/assets/webpack_module_federation.a1cf09c9.png",e="/assets/webpack_federation_operation.682fb29f.png",c="/assets/webpack_remote.863787d0.png",r="/assets/webpack_host.bc20132d.png",t="/assets/webpack_cache_ids.0ee85f9a.png",E=JSON.parse('{"title":"Webpack 5","description":"","frontmatter":{},"headers":[],"relativePath":"capital/construct/webpack/webpack5.md","lastUpdated":1729436567000}'),D={name:"capital/construct/webpack/webpack5.md"};function y(F,s,i,B,b,d){return a(),l("div",null,s[0]||(s[0]=[p(`<h1 id="webpack-5" tabindex="-1">Webpack 5 <a class="header-anchor" href="#webpack-5" aria-label="Permalink to &quot;Webpack 5&quot;">â€‹</a></h1><blockquote><p><code>webpack5</code> å¯¹äº <code>webpack4</code> å‡çº§åšäº†å“ªäº›ä¼˜åŒ–</p></blockquote><h2 id="æŒä¹…åŒ–ç¼“å­˜" tabindex="-1">æŒä¹…åŒ–ç¼“å­˜ <a class="header-anchor" href="#æŒä¹…åŒ–ç¼“å­˜" aria-label="Permalink to &quot;æŒä¹…åŒ–ç¼“å­˜&quot;">â€‹</a></h2><p><code>Webpack 5</code> å¼•å…¥äº†å†…ç½®çš„æŒä¹…åŒ–ç¼“å­˜æœºåˆ¶ï¼Œæå¤§åœ°æå‡äº†äºŒæ¬¡æ„å»ºçš„é€Ÿåº¦ã€‚åœ¨ <code>Webpack 4</code> ä¸­ï¼Œç¼“å­˜æ˜¯é€šè¿‡æ„å»ºæ’ä»¶æˆ–è€…æ‰‹åŠ¨é…ç½®æ¥å®ç°çš„ï¼Œè€Œ <code>Webpack 5</code> é»˜è®¤æ”¯æŒåŸºäºæ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">cache</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">filesystem</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿç¼“å­˜ï¼Œ&#39;memory&#39;ï¼ˆå†…å­˜ç¼“å­˜ï¼‰</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="èµ„æºç®¡ç†ä¼˜åŒ–" tabindex="-1">èµ„æºç®¡ç†ä¼˜åŒ– <a class="header-anchor" href="#èµ„æºç®¡ç†ä¼˜åŒ–" aria-label="Permalink to &quot;èµ„æºç®¡ç†ä¼˜åŒ–&quot;">â€‹</a></h2><p><code>Asset Modules</code>ç®€åŒ–äº†å¤„ç†é™æ€èµ„æºçš„æµç¨‹ï¼Œä¹‹å‰éœ€è¦é€šè¿‡ <code>file-loader</code>, <code>url-loader</code>, <code>raw-loader</code> ç­‰åŠ è½½å™¨æ¥å¤„ç†èµ„æºæ–‡ä»¶ï¼Œç°åœ¨ <code>Webpack 5</code> æä¾›äº†ç»Ÿä¸€çš„èµ„æºæ¨¡å—ï¼ˆ<code>Asset Modules</code>ï¼‰æ¥æ›¿ä»£è¿™äº›åŠ è½½å™¨</p><blockquote><p>ä¸¾ä¸ª ğŸŒ°</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">png</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">asset/resource</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">//æ‹·è´æ–‡ä»¶, file-loader</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">ico</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">asset/inline</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">//ç”Ÿæˆä¸€ä¸ªbase64å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">txt</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">asset/source</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">//ç›¸å½“äºä»¥å‰raw-loader</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">jpg</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">asset</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">parser</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#F07178;">dataUrlCondition</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#F07178;">maxSize</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">8</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// é˜ˆå€¼</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="æ¨¡å—è”é‚¦" tabindex="-1">æ¨¡å—è”é‚¦ <a class="header-anchor" href="#æ¨¡å—è”é‚¦" aria-label="Permalink to &quot;æ¨¡å—è”é‚¦&quot;">â€‹</a></h2><p><code>Webpack 5</code> æ–°å¼•å…¥äº† æ¨¡å—è”é‚¦ï¼ˆ<code>Module Federation</code>ï¼‰ï¼Œè¿™ä½¿å¾—å¾®å‰ç«¯æ¶æ„å’ŒåŠ¨æ€åŠ è½½è¿œç¨‹æ¨¡å—å˜å¾—æ›´åŠ ç®€å•å’Œé«˜æ•ˆã€‚æ¨¡å—è”é‚¦å…è®¸åº”ç”¨ç¨‹åºä»è¿œç¨‹é¡¹ç›®ä¸­å…±äº«å’ŒåŠ è½½æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°æ‰“åŒ…è¿™äº›æ¨¡å—ã€‚</p><ul><li><p>ä½¿ç”¨<code>Module Federation</code>æ—¶ï¼Œæ¯ä¸ªåº”ç”¨å—éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ„å»ºï¼Œè¿™äº›æ„å»ºéƒ½å°†ç¼–è¯‘ä¸ºå®¹å™¨</p></li><li><p>å®¹å™¨å¯ä»¥è¢«å…¶ä»–åº”ç”¨æˆ–è€…å…¶ä»–å®¹å™¨åº”ç”¨</p></li><li><p>ä¸€ä¸ªè¢«å¼•ç”¨çš„å®¹å™¨è¢«ç§°ä¸º<code>remote</code>ï¼Œå¼•ç”¨è€…è¢«ç§°ä¸º<code>host</code>ï¼Œ<code>remote</code>æš´éœ²æ¨¡å—ç»™<code>host</code>,Â <code>host</code>åˆ™å¯ä»¥ä½¿ç”¨è¿™äº›æš´éœ²çš„æ¨¡å—ï¼Œè¿™äº›æ¨¡å—è¢«æˆä¸º<code>remote</code>æ¨¡å—</p></li></ul><p><img src="`+o+'" alt="webpack_module_federation"></p><blockquote><p>å‚æ•°é…ç½®</p></blockquote><p><img src="'+e+'" alt="alt text"></p><blockquote><p>ä¸¾ä¸ª ğŸŒ°</p></blockquote><h3 id="remote" tabindex="-1"><code>remote</code> <a class="header-anchor" href="#remote" aria-label="Permalink to &quot;`remote`&quot;">â€‹</a></h3><p><img src="'+c+`" alt="alt text"></p><blockquote><p>NewsList.js</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> React </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">åˆ—è¡¨</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>webpack.config.js</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> HtmlWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> ModuleFederationPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack/lib/container/ModuleFederationPlugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">HtmlWebpackPlugin</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./public/index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ModuleFederationPlugin</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">remoteEntry.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">//  æ„å»ºè¾“å‡ºçš„æ–‡ä»¶å</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">remote</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">//name   string  å¿…ä¼ å€¼ï¼Œå³è¾“å‡ºçš„æ¨¡å—åï¼Œè¢«è¿œç¨‹å¼•ç”¨æ—¶è·¯å¾„ä¸º\${name}/\${expose}</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">exposes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// è¢«è¿œç¨‹å¼•ç”¨æ—¶å¯æš´éœ²çš„èµ„æºè·¯å¾„åŠå…¶åˆ«å</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./NewsList</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/NewsList</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// keyæ˜¯å¼•ç”¨çš„åå­—ï¼Œvalueæ˜¯æœ¬åœ°çš„è·¯å¾„ï¼Œ./ ä»£è¡¨å½“å‰å®¹å™¨è·Ÿè·¯å¾„ä¸‹çš„NewList</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">remotes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// è¿œç¨‹å¼•ç”¨çš„åº”ç”¨ååŠå…¶åˆ«åçš„æ˜ å°„ï¼Œä½¿ç”¨æ—¶ä»¥keyå€¼ä½œä¸ºname</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">host</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">host@http://localhost:8000/remoteEntry.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">shared</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">react</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">singleton</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">react-dom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">singleton</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="host" tabindex="-1"><code>host</code> <a class="header-anchor" href="#host" aria-label="Permalink to &quot;\`host\`&quot;">â€‹</a></h3><p><img src="`+r+`" alt="alt text"></p><blockquote><p>APP.js</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// App.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> React </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> NewsList </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./NewsList</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> RemoteSliders </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> React</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">lazy</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">import</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">host/Sliders</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">))</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">æœ¬åœ°ç»„ä»¶NewsList</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h2</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">NewsList</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">React.Suspense</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">fallback</span><span style="color:#89DDFF;">={&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">åŠ è½½ä¸­......</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;}&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">RemoteSliders</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">React.Suspense</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> App</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>webpack.config.js</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// webpack.config,js</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> HtmlWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> ModuleFederationPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack/lib/container/ModuleFederationPlugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">HtmlWebpackPlugin</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./public/index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ModuleFederationPlugin</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">remoteEntry.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">//  æ„å»ºè¾“å‡ºçš„æ–‡ä»¶å</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">host</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">//name string  å¿…ä¼ å€¼ï¼Œå³è¾“å‡ºçš„æ¨¡å—åï¼Œè¢«è¿œç¨‹å¼•ç”¨æ—¶è·¯å¾„ä¸º\${name}/\${expose}</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">remotes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//è¿œç¨‹å¼•ç”¨çš„åº”ç”¨ååŠå…¶åˆ«åçš„æ˜ å°„ï¼Œä½¿ç”¨æ—¶ä»¥keyå€¼ä½œä¸ºname</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">remote</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">remote@http://localhost:3000/remoteEntry.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">exposes</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//è¢«è¿œç¨‹å¼•ç”¨æ—¶å¯æš´éœ²çš„èµ„æºè·¯å¾„åŠå…¶åˆ«å</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">./Sliders</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/Sliders</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">shared</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">react</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">singleton</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">react-dom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#F07178;">singleton</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="é•¿æœŸç¼“å­˜ä¼˜åŒ–" tabindex="-1">é•¿æœŸç¼“å­˜ä¼˜åŒ– <a class="header-anchor" href="#é•¿æœŸç¼“å­˜ä¼˜åŒ–" aria-label="Permalink to &quot;é•¿æœŸç¼“å­˜ä¼˜åŒ–&quot;">â€‹</a></h2><ul><li>æ›´ç¨³å®šçš„ <code>chunk id</code> å’Œ <code>module id</code></li></ul><p><code>webpack 4</code> é‡‡ç”¨çš„æ˜¯ï¼Œé€’å¢æ•°å­—ä½œä¸º<code>module id</code> å’Œ <code>chunk id</code></p><div class="tip custom-block"><p class="custom-block-title">ç¼ºç‚¹</p><ul><li><p>å¦‚æœå¼•å…¥é¡ºåºå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆ<code>module id</code> ä¹Ÿä¼šéšä¹‹å˜åŒ–ï¼Œæ‰“åŒ…åçš„å†…å®¹å°±ä¼šå¤§å¹…å˜åŠ¨ï¼Œç¼“å­˜å¤±æ•ˆ</p></li><li><p>å¦‚æœæ–°åŠ å…¥äº† <code>chunk</code> æˆ–è€… <code>chunk</code> çš„é¡ºåºå‘ç”Ÿå˜åŒ–ï¼Œæ‰€æœ‰ <code>chunk id</code> å¯èƒ½ä¼šé‡æ–°åˆ†é…ï¼Œå¯¼è‡´ç¼“å­˜å¤±æ•ˆ</p></li><li><p>æ¯æ¬¡æ„å»ºè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰æ–°çš„æ¨¡å—åŠ å…¥ï¼ŒåŸæœ¬çš„æ¨¡å—é¡ºåºå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå¯¼è‡´åŸæœ‰<code>module id</code> æ”¹å˜</p></li></ul></div><div class="tip custom-block"><p class="custom-block-title">webpack 5 çš„æ”¹è¿›</p><ul><li>é»˜è®¤ä½¿ç”¨ <code>deterministic</code> æ¨¡å¼</li></ul><p><code>deterministic</code>ï¼š æ˜¯ä¸€ç§ç¡®å®šæ€§çš„ç”Ÿæˆæ–¹å¼ï¼Œè¿™ç§ç”Ÿæˆæ–¹å¼ä¼šæ ¹æ®æ¨¡å—çš„è·¯å¾„ã€æ–‡ä»¶åå’Œå†…å®¹ç­‰å› ç´ æ¥ç¡®å®š <code>module id</code>ï¼ŒåŸºäº <code>chunk</code> çš„å†…å®¹å’Œåç§°ç”Ÿæˆ <code>id</code></p><ul><li>å¯é€‰æ‹©çš„é…ç½®é¡¹</li></ul><p><img src="`+t+`" alt="webpack_cache_ids"></p></div><h2 id="ç§»é™¤-node-js-çš„-polyfill" tabindex="-1">ç§»é™¤ <code>Node.js</code> çš„ <code>polyfill</code> <a class="header-anchor" href="#ç§»é™¤-node-js-çš„-polyfill" aria-label="Permalink to &quot;ç§»é™¤ \`Node.js\` çš„ \`polyfill\`&quot;">â€‹</a></h2><ul><li><p><code>webpack4</code>å¸¦äº†è®¸å¤š<code>Node</code>æ ¸å¿ƒæ¨¡å—çš„<code>polyfill</code>ï¼Œä¸€æ—¦æ¨¡å—ä¸­ä½¿ç”¨äº†ä»»ä½•æ ¸å¿ƒæ¨¡å—ï¼ˆå¦‚<code>crypto</code>ï¼‰ï¼Œè¿™äº›æ¨¡å—å°±ä¼šè¢«å¯ç”¨ã€‚</p></li><li><p><code>webpack5</code>ä¸å†è‡ªåŠ¨å¼•å…¥è¿™äº›<code>polyfill</code>ï¼Œä¸ºäº†å‡å°æ–‡ä»¶ä½“ç§¯</p></li></ul><blockquote><p>ä¸¾ä¸ª ğŸŒ°</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">resolve</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/*  fallback:{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        &quot;crypto&quot;:false,//å¦‚æœä½ ç¡®å®šä¸éœ€è¦è¿™ä¸ªpolyfill</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        &quot;stream&quot;:false,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        &quot;buffer&quot;:false</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    }, */</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// éœ€è¦ç”¨åˆ°polyfill</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">fallback</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">crypto</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> require</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">crypto-browserify</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">stream</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> require</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">stream-browserify</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#F07178;">buffer</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> require</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">buffer</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="tree-shaking-æ”¹è¿›" tabindex="-1"><code>Tree Shaking</code> æ”¹è¿› <a class="header-anchor" href="#tree-shaking-æ”¹è¿›" aria-label="Permalink to &quot;\`Tree Shaking\` æ”¹è¿›&quot;">â€‹</a></h2><p><code>Webpack 5</code> åœ¨ <code>Tree Shaking</code> çš„åŸºç¡€ä¸Šå¼•å…¥äº†æ›´ç²¾ç¡®çš„æ¨¡å—ä¾èµ–åˆ†æï¼Œå¢å¼ºäº†ä¸å¿…è¦ä»£ç çš„æ¶ˆé™¤èƒ½åŠ›ã€‚å°¤å…¶å¯¹ <code>CommonJS</code> å’Œ <code>ESM</code> æ¨¡å—çš„æ··ç”¨åšäº†æ›´å¥½çš„ä¼˜åŒ–ã€‚</p><h3 id="æ”¯æŒ-commonjs" tabindex="-1">æ”¯æŒ <code>CommonJS</code> <a class="header-anchor" href="#æ”¯æŒ-commonjs" aria-label="Permalink to &quot;æ”¯æŒ \`CommonJS\`&quot;">â€‹</a></h3><p><code>Tree Shaking</code> æœ€åˆæ˜¯ä¸º <code>ECMAScript</code> æ¨¡å—ï¼ˆ<code>ESM</code>ï¼‰è®¾è®¡çš„ï¼Œ<code>ESM</code> ä½¿ç”¨é™æ€å¯¼å…¥ (<code>import</code> / <code>export</code>)ï¼Œèƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶åˆ†æä¾èµ–å…³ç³»ï¼Œå› æ­¤ <code>Tree Shaking</code> èƒ½å¤Ÿæœ‰æ•ˆå·¥ä½œã€‚</p><p><code>ç„¶è€Œï¼ŒJavaScript</code> ç”Ÿæ€ä¸­æœ‰å¤§é‡çš„é¡¹ç›®ä»ç„¶ä½¿ç”¨ <code>CommonJS</code> æ¨¡å—æ ¼å¼ï¼ˆ<code>require()</code>/ <code>module.exports</code>ï¼‰ã€‚<code>Webpack 5</code> é’ˆå¯¹ <code>Tree Shaking</code> çš„æ”¹è¿›ä¹‹ä¸€å°±æ˜¯å¯¹ <code>CommonJS</code> æ¨¡å— æä¾›äº†æ›´å¥½çš„æ”¯æŒã€‚</p><h3 id="å‰¯ä½œç”¨å‰–æ" tabindex="-1">å‰¯ä½œç”¨å‰–æ <a class="header-anchor" href="#å‰¯ä½œç”¨å‰–æ" aria-label="Permalink to &quot;å‰¯ä½œç”¨å‰–æ&quot;">â€‹</a></h3><p>Webpack 4 å¼•å…¥äº† sideEffects å±æ€§ï¼Œé€šè¿‡ package.json ä¸­çš„ sideEffects å­—æ®µæ¥æ ‡è®°å“ªäº›æ¨¡å—å…·æœ‰å‰¯ä½œç”¨ï¼Œä»è€Œå¸®åŠ© Tree Shaking æ›´å¥½åœ°è¯†åˆ«å¯ç§»é™¤çš„éƒ¨åˆ†ã€‚</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">sideEffects</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./src/noEffect.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>åœ¨ <code>Webpack 5</code> ä¸­ï¼Œ<code>Tree Shaking</code> è¿›ä¸€æ­¥ä¼˜åŒ–äº† å‰¯ä½œç”¨çš„å‰–æï¼Œèƒ½å¤Ÿæ›´æ™ºèƒ½åœ°åˆ¤æ–­å“ªäº›æ¨¡å—æˆ–å¯¼å‡ºç¡®å®æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå¦‚æœä½ ç¡®å®šæ•´ä¸ªåŒ…éƒ½æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå¯ä»¥ç›´æ¥æ ‡è®°ä¸ºï¼š</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">sideEffects</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="ä¼˜åŒ–é»˜è®¤é…ç½®" tabindex="-1">ä¼˜åŒ–é»˜è®¤é…ç½® <a class="header-anchor" href="#ä¼˜åŒ–é»˜è®¤é…ç½®" aria-label="Permalink to &quot;ä¼˜åŒ–é»˜è®¤é…ç½®&quot;">â€‹</a></h2><p><code>Webpack 5</code> ä¼˜åŒ–äº†é»˜è®¤çš„æ‰“åŒ…è¡Œä¸ºï¼Œä½¿å¼€å‘è€…ä¸éœ€è¦è¿‡å¤šçš„é…ç½®å³å¯å¾—åˆ°è‰¯å¥½çš„æ€§èƒ½å’Œä¼˜åŒ–æ•ˆæœã€‚é»˜è®¤æƒ…å†µä¸‹å¯ç”¨äº† <code>SplitChunks</code>ã€æŒä¹…åŒ–ç¼“å­˜ã€æ›´åŠ åˆç†çš„æ¨¡å—å¤„ç†ç­‰ã€‚</p><ul><li>é»˜è®¤å¼€å¯ <code>SplitChunks</code>ï¼š<code>Webpack 5</code> é»˜è®¤ä¼šå¯¹ä»£ç è¿›è¡Œåˆ†å—ï¼Œå‡å°‘åŒ…çš„ä½“ç§¯ï¼Œæå‡åŠ è½½æ•ˆç‡ã€‚</li></ul>`,50)]))}const m=n(D,[["render",y]]);export{E as __pageData,m as default};
