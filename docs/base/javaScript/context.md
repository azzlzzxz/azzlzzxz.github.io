# 执行上下文

## 什么是执行上下文？

执行上下文是评估和执行 JavaScript 代码的环境的抽象概念。每当 Javascript 代码在运行的时候，它都是在执行上下文中运行。

## 执行上下文的理解：

执行上下文可以简单理解为一个对象:

- 它包含三个部分:
  - 变量对象(VO)
  - 作用域链(词法作用域)
  - this 指向
- 它的类型:
  - 全局执行上下文：这是默认或者说基础的上下文，任何不在函数内部的代码都在全局上下文中。它会执行两件事：创建一个全局的 window 对象（浏览器的情况下），并且设置  this  的值等于这个全局对象。一个程序中只会有一个全局执行上下文。
  - 函数执行上下文：每当一个函数被调用时, 都会为该函数创建一个新的上下文。每个函数都有它自己的执行上下文，不过是在函数被调用时创建的。
  - eval 执行上下文
- 代码执行过程:
  - 创建 全局上下文 (global EC)
  - 全局执行上下文 (caller) 逐行 自上而下 执行。遇到函数时，函数执行上下文 (callee) 被 push 到执行栈顶层
  - 函数执行上下文被激活，成为 active EC, 开始执行函数中的代码，caller 被挂起
  - 函数执行完后，callee 被 pop 移除出执行栈，控制权交还全局上下文 (caller)，继续执行

### 变量对象

变量对象，是执行上下文中的一部分，可以抽象为一种   数据作用域，其实也可以理解为就是一个简单的对象，它存储着该执行上下文中的所有   变量和函数声明(不包含函数表达式)。

### 活动对象 (AO)

当变量对象所处的上下文为 active EC 时，称为活动对象。

## 执行栈
