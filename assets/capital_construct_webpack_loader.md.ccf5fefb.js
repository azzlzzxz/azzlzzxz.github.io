import{_ as n,o as a,c as l,N as p}from"./chunks/framework.2673bc46.js";const o="/assets/webpack_loader_type.a2f768ca.png",d=JSON.parse('{"title":"Loader","description":"","frontmatter":{},"headers":[],"relativePath":"capital/construct/webpack/loader.md","lastUpdated":1727667491000}'),e={name:"capital/construct/webpack/loader.md"};function c(r,s,t,D,y,F){return a(),l("div",null,s[0]||(s[0]=[p(`<h1 id="loader" tabindex="-1">Loader <a class="header-anchor" href="#loader" aria-label="Permalink to &quot;Loader&quot;">â€‹</a></h1><p><code>Loader</code> è½¬æ¢å™¨ï¼Œç”¨äºè½¬æ¢æ¨¡å—çš„æºä»£ç ã€‚å¯ä»¥å°†ä¸åŒç±»å‹çš„æ–‡ä»¶ï¼ˆå¦‚ <code>CSS</code>ã€<code>TypeScript</code> ç­‰ï¼‰è½¬æ¢ä¸º <code>JavaScript</code> æ¨¡å—ï¼Œä»è€Œä½¿å®ƒä»¬èƒ½å¤Ÿè¢« <code>Webpack</code> å¤„ç†</p><ul><li><p>æ‰€è°“ <code>loader</code> åªæ˜¯ä¸€ä¸ªå¯¼å‡ºä¸ºå‡½æ•°çš„ <code>JavaScript</code> æ¨¡å—ã€‚å®ƒæ¥æ”¶ä¸Šä¸€ä¸ª <code>loader</code> äº§ç”Ÿçš„ç»“æœæˆ–è€…èµ„æºæ–‡ä»¶<code>(resource file)</code>ä½œä¸ºå…¥å‚ã€‚ä¹Ÿå¯ä»¥ç”¨å¤šä¸ª <code>loader</code> å‡½æ•°ç»„æˆ <code>loader chain</code></p></li><li><p><code>compiler</code> éœ€è¦å¾—åˆ°æœ€åä¸€ä¸ª <code>loader</code> äº§ç”Ÿçš„å¤„ç†ç»“æœã€‚è¿™ä¸ªå¤„ç†ç»“æœåº”è¯¥æ˜¯ <code>String</code> æˆ–è€… <code>Buffer</code>ï¼ˆè¢«è½¬æ¢ä¸ºä¸€ä¸ª <code>string</code>ï¼‰</p></li></ul><div class="info custom-block"><p class="custom-block-title">INFO</p><ul><li><a href="https://webpack.docschina.org/api/loaders/" target="_blank" rel="noreferrer"><u>Webpack Loader ğŸš€</u></a></li></ul></div><h2 id="loader-æ‰§è¡Œé¡ºåº" tabindex="-1"><code>loader</code> æ‰§è¡Œé¡ºåº <a class="header-anchor" href="#loader-æ‰§è¡Œé¡ºåº" aria-label="Permalink to &quot;\`loader\` æ‰§è¡Œé¡ºåº&quot;">â€‹</a></h2><p><code>loader</code> æ€»æ˜¯ ä»å³åˆ°å·¦ï¼ˆæˆ–è€…ä»ä¸‹åˆ°ä¸Šï¼‰è¢«è°ƒç”¨</p><blockquote><p>ä¸¾ä¸ª ğŸŒ°</p></blockquote><ul><li><code>loader</code>åœ¨åŒä¸€ä¸ª<code>rule</code>ä¸­çš„æ‰§è¡Œé¡ºåº</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loader1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loader2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loader3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æ‰§è¡Œé¡ºåº</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">loader3</span><span style="color:#BABED8;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">loader2</span><span style="color:#BABED8;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">loader1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>loader</code>åœ¨å¤šä¸ª<code>rule</code>ä¸­çš„æ‰§è¡Œé¡ºåº</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loader1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loader2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">loader3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>æ‰§è¡Œé¡ºåº</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">loader3</span><span style="color:#BABED8;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">loader2</span><span style="color:#BABED8;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">loader1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="pitch-æ–¹æ³•" tabindex="-1"><code>pitch</code> æ–¹æ³• <a class="header-anchor" href="#pitch-æ–¹æ³•" aria-label="Permalink to &quot;\`pitch\` æ–¹æ³•&quot;">â€‹</a></h3><p><code>pitch</code> æ˜¯ <code>Webpack loader</code> çš„ä¸€ç§ç‰¹æ®Šæ–¹æ³•ï¼Œå®ƒå…è®¸ <code>loader</code> åœ¨æ­£å¸¸çš„æ‰§è¡Œé“¾ä¹‹å‰åšä¸€äº›é¢å¤–çš„æ“ä½œã€‚<code>pitch</code> æ–¹æ³•å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œåªæœ‰å½“ <code>loader</code> ä¸­æ˜ç¡®å®šä¹‰äº† <code>pitch</code> æ—¶æ‰ä¼šæ‰§è¡Œã€‚</p><p><code>pitch</code> æ–¹æ³•å…è®¸ä½ æ”¹å˜ <code>loader</code> çš„æ‰§è¡Œæµç¨‹ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½æœ‰ï¼š</p><ul><li><p>æå‰å¤„ç†ï¼šåœ¨æ–‡ä»¶åŠ è½½ä¹‹å‰è¿›è¡ŒæŸäº›é€»è¾‘æ“ä½œï¼ˆå¦‚é¢„å¤„ç†ã€ç¼“å­˜ç­‰ï¼‰ã€‚</p></li><li><p>ç»ˆæ­¢é“¾å¼è°ƒç”¨ï¼š<code>pitch</code> æ–¹æ³•å¯ä»¥è¿”å›æŸäº›å†…å®¹å¹¶ç»ˆæ­¢å‰©ä¸‹ <code>loader</code> çš„æ‰§è¡Œé“¾ã€‚å¦‚æœ <code>pitch</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå€¼ï¼ŒWebpack å°†ä¸ä¼šç»§ç»­æ‰§è¡Œå‰©ä½™çš„ <code>loader</code>ï¼Œè€Œæ˜¯ç›´æ¥å°†è¯¥å€¼ä½œä¸ºæœ€ç»ˆç»“æœä¼ é€’ç»™ä¸Šä¸€ä¸ª loaderã€‚</p></li></ul><blockquote><p>ä¸¾ä¸ª ğŸŒ°</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//...</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æ‰§è¡Œé¡ºåº</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">a-loader</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">pitch</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">b-loader</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">pitch</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">c-loader</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">pitch</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">requested</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">module</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">is</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">picked</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">up</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">as</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">a</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">dependency</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">c-loader</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">normal</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">execution</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">b-loader</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">normal</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">execution</span></span>
<span class="line"><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">a-loader</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">normal</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">execution</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æ‰€æœ‰å®Œæ•´çš„ <code>loader</code> çš„æ‰§è¡Œé¡ºåºæ˜¯è¿™æ ·çš„</p><blockquote><p>æµç¨‹å›¾</p></blockquote><p><img src="https://steinsgate.oss-cn-hangzhou.aliyuncs.com/webpack/webpack_loader.jpg" alt="webpack_loader"></p><div class="info custom-block"><p class="custom-block-title">ç›¸å…³èµ„æ–™</p><ul><li><a href="https://webpack.docschina.org/api/loaders/#pitching-loader" target="_blank" rel="noreferrer"><u>Webpack | pitching-loader ğŸš€</u></a></li></ul></div><h2 id="loader-ç±»å‹" tabindex="-1"><code>loader</code> ç±»å‹ <a class="header-anchor" href="#loader-ç±»å‹" aria-label="Permalink to &quot;\`loader\` ç±»å‹&quot;">â€‹</a></h2><ul><li><p><code>normal(æ­£å¸¸)</code>ï¼šæ²¡æœ‰å€¼è¡¨ç¤ºæ˜¯æ™®é€š <code>loader</code></p></li><li><p><code>pre(å‰ç½®)</code></p></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">enforce</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pre</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// enforce å¼ºåˆ¶</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pre1-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pre2-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#676E95;font-style:italic;">//å‰ç½®</span></span>
<span class="line"><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>post(åç½®)</code></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">enforce</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">use</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post1-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post2-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">] </span><span style="color:#676E95;font-style:italic;">//åç½®</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>inline(å†…è”)</code>ï¼š<code>loader</code> è¢«åº”ç”¨åœ¨ <code>import/require</code> è¡Œå†…</li></ul><p><code>loader</code> çš„å åŠ é¡ºåº Â = <code>post(åç½®)</code> + <code>inline(å†…è”)</code> + <code>normal(æ­£å¸¸)</code> + <code>pre(å‰ç½®)</code></p><ul><li><code>Pitching</code> é˜¶æ®µ: <code>loader</code> ä¸Šçš„ <code>pitch</code> æ–¹æ³•ï¼ŒæŒ‰ç…§ åç½®<code>(post)</code>ã€è¡Œå†…<code>(inline)</code>ã€æ™®é€š<code>(normal)</code>ã€å‰ç½®<code>(pre)</code> çš„é¡ºåºè°ƒç”¨ã€‚</li><li><code>Normal</code> é˜¶æ®µ: <code>loader</code> ä¸Šçš„ å¸¸è§„æ–¹æ³•ï¼ŒæŒ‰ç…§ å‰ç½®<code>(pre)</code>ã€æ™®é€š<code>(normal)</code>ã€è¡Œå†…<code>(inline)</code>ã€åç½®<code>(post)</code> çš„é¡ºåºè°ƒç”¨ã€‚æ¨¡å—æºç çš„è½¬æ¢ï¼Œå‘ç”Ÿåœ¨è¿™ä¸ªé˜¶æ®µã€‚</li></ul><p><img src="`+o+`" alt="webpack_loader_type"></p><div class="info custom-block"><p class="custom-block-title">ç›¸å…³èµ„æ–™</p><ul><li><a href="https://webpack.docschina.org/configuration/module#ruleenforce" target="_blank" rel="noreferrer"><u>Webpack | Rule.enforce ğŸš€</u></a></li></ul></div><h2 id="å¦‚ä½•ç¼–å†™ä¸€ä¸ª-loader" tabindex="-1">å¦‚ä½•ç¼–å†™ä¸€ä¸ª <code>loader</code> <a class="header-anchor" href="#å¦‚ä½•ç¼–å†™ä¸€ä¸ª-loader" aria-label="Permalink to &quot;å¦‚ä½•ç¼–å†™ä¸€ä¸ª \`loader\`&quot;">â€‹</a></h2><p><code>Loader</code> æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½œç”¨æ˜¯å°†æŸä¸ªæºç å­—ç¬¦ä¸²è½¬æ¢æˆå¦ä¸€ä¸ªæºç å­—ç¬¦ä¸²è¿”å›ã€‚æ¥æ”¶æºæ–‡ä»¶ä»£ç å­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œç»è¿‡å¤„ç†è½¬æ¢ï¼Œç„¶å <code>return</code> ç›®æ ‡ä»£ç å­—ç¬¦ä¸²</p><blockquote><p>ä¸¾ä¸ª ğŸŒ°</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> babel </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@babel/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">loader</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">sourceCode</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">inputSourceMap</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">inputAst</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//æ­£åœ¨å¤„ç†çš„æ–‡ä»¶ç»å¯¹è·¯å¾„</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">filename</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#BABED8;">resourcePath</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// optionså°±æ˜¯webpack.config.jsé‡Œçš„loaderé…ç½®çš„options</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">useOptions</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">getOptions</span><span style="color:#F07178;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">options</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">filename</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">inputSourceMap</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŒ‡å®šè¾“å…¥ä»£ç çš„sourcemap</span></span>
<span class="line"><span style="color:#F07178;">    sourceMaps</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// è¡¨ç¤ºæ˜¯å¦è¦ç”Ÿæˆsourcemap</span></span>
<span class="line"><span style="color:#F07178;">    sourceFileName</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">filename</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŒ‡å®šç¼–è¯‘ åçš„æ–‡ä»¶æ‰€å±çš„æ–‡ä»¶å</span></span>
<span class="line"><span style="color:#F07178;">    ast</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æ˜¯å¦ç”Ÿæˆast</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">...</span><span style="color:#BABED8;">useOptions</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//.babelrc babel.config.js</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">config</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">babel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">loadPartialConfig</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">options</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">config</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">babel</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">transformAsync</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">sourceCode</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">options</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">err</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;font-style:italic;">result</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">callback</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">null,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">code</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">map</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">ast</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//code è½¬è¯‘åçš„ä»£ç  map sourcemapæ˜ å°„æ–‡ä»¶ ast æŠ½è±¡è¯­æ³•æ ‘</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">sourceCode</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> loader</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><div class="info custom-block"><p class="custom-block-title">ç›¸å…³èµ„æ–™</p><ul><li><a href="https://webpack.docschina.org/contribute/writing-a-plugin/" target="_blank" rel="noreferrer"><u>Webpack | ç¼–å†™ loader</u></a></li></ul></div>`,42)]))}const B=n(e,[["render",c]]);export{d as __pageData,B as default};
