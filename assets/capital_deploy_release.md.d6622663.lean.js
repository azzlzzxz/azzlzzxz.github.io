import{_ as r,B as d,o as l,c as p,x as e,a,D as s,z as c,Q as t}from"./chunks/framework.a5035e6c.js";const i="/assets/release_init.146ee290.jpg",_="/assets/release_negotiate.280adf51.jpg",n="/assets/release_cache.ea538c5f.jpg",h="/assets/release_version.6cfb9544.jpg",m="/assets/release_version_1.b56623f3.jpg",u="/assets/release_hash.a1fd6afc.jpg",f="/assets/release_static.9587daa3.jpg",g="/assets/release_static_1.d6f222ba.jpg",b="/assets/release_static_2.b3dbaf77.jpg",B=JSON.parse('{"title":"前端发布策略","description":"","frontmatter":{},"headers":[],"relativePath":"capital/deploy/release.md","lastUpdated":1707275997000}'),T={name:"capital/deploy/release.md"},x=t("",33),q=e("code",null,"先部署页面，再部署资源：",-1),P=e("code",null,"先部署资源，再部署页面：",-1),v=t("",5);function C(S,N,j,k,D,V){const o=d("font");return l(),p("div",null,[x,e("ul",null,[e("li",null,[e("p",null,[q,a("在二者部署的时间间隔内，如果有用户访问页面，就会在新的页面结构中加载旧的资源，并且把这个旧版本的资源当做新版本缓存起来，其结果就是："),e("strong",null,[s(o,{color:"FF9D00"},{default:c(()=>[a("用户访问到了一个样式错乱的页面，除非手动刷新，否则在资源缓存过期之前，页面会一直执行错误。")]),_:1})])])]),e("li",null,[e("p",null,[P,a("在部署时间间隔之内，有旧版本资源本地缓存的用户访问网站，由于请求的页面是旧版本的，资源引用没有改变，浏览器将直接使用本地缓存，这种情况下页面展现正常；"),e("strong",null,[s(o,{color:"FF9D00"},{default:c(()=>[a("但没有本地缓存或者缓存过期的用户访问网站，就会出现旧版本页面加载新版本资源的情况，导致页面执行错误，但当页面完成部署，这部分用户再次访问页面又会恢复正常了。")]),_:1})])])])]),v])}const F=r(T,[["render",C]]);export{B as __pageData,F as default};
