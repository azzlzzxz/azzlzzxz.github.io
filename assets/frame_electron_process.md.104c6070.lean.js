import{_ as e,B as c,o as r,c as t,x as s,D as a,z as o,a as n,Q as p}from"./chunks/framework.a5035e6c.js";const ss=JSON.parse('{"title":"Electron 的主进程&渲染进程","description":"","frontmatter":{},"headers":[],"relativePath":"frame/electron/process.md","lastUpdated":1703224094000}'),i={name:"frame/electron/process.md"},F=s("h1",{id:"electron-的主进程-渲染进程",tabindex:"-1"},[n("Electron 的主进程&渲染进程 "),s("a",{class:"header-anchor",href:"#electron-的主进程-渲染进程","aria-label":'Permalink to "Electron 的主进程&渲染进程"'},"​")],-1),y=s("h2",{id:"主进程",tabindex:"-1"},[n("主进程 "),s("a",{class:"header-anchor",href:"#主进程","aria-label":'Permalink to "主进程"'},"​")],-1),D=s("p",null,"主进程下的几个重要的模块：",-1),d=s("h3",{id:"app",tabindex:"-1"},[s("code",null,"app"),n(),s("a",{class:"header-anchor",href:"#app","aria-label":'Permalink to "`app`"'},"​")],-1),u=s("p",null,"控制应用程序的事件生命周期。",-1),B=s("p",null,[s("code",null,"app"),n(" 的常用生命周期钩子如下：")],-1),b=s("code",null,"Windows",-1),A=s("code",null,"Linux",-1),E=s("code",null,"will-finish-launching",-1),m=s("code",null," ready ",-1),_=s("code",null,"ready",-1),w=s("code",null,"electron",-1),h=s("code",null,"ready",-1),f=s("code",null,"windows",-1),g=s("code",null,"linux",-1),C=s("code",null,"Cmd + Q",-1),v=s("code",null,"app.quit()",-1),q=s("code",null,"Electron",-1),T=s("code",null,"will-quit",-1),k=s("code",null," window-all-closed",-1),x=p("",2),P=s("code",null,"（仅 macOS）",-1),S=s("code",null,"BrowserWindow",-1),R=s("code",null,"BrowserWindow",-1),V=s("p",null,"当然，app 这个模块除了上述的一些事件钩子之外，还有一些很常用的方法：",-1),W=s("h3",{id:"browerwindow-与-browerview",tabindex:"-1"},[n("BrowerWindow 与 BrowerView： "),s("a",{class:"header-anchor",href:"#browerwindow-与-browerview","aria-label":'Permalink to "BrowerWindow 与 BrowerView："'},"​")],-1),M=s("code",null,"BrowserView",-1),I=s("code",null,"BrowserWindow",-1),j=s("code",null,"webview",-1),N=s("p",null,[s("strong",null,[s("code",null,"webview")])],-1),O=s("p",null,[s("code",null,"webview"),n(" 是网页上的元素。")],-1),z=p("",17),$=s("h3",{id:"ipcmain-与-ipcrenderer",tabindex:"-1"},[s("code",null,"ipcMain"),n(" 与 "),s("code",null,"ipcRenderer"),n(),s("a",{class:"header-anchor",href:"#ipcmain-与-ipcrenderer","aria-label":'Permalink to "`ipcMain` 与 `ipcRenderer`"'},"​")],-1),L=s("code",null,"(web 页面)",-1),Q=p("",11);function U(H,J,G,K,X,Y){const l=c("font");return r(),t("div",null,[F,y,D,s("ul",null,[s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("app")]),_:1})])]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("BrowerWindow 与 BrowerView")]),_:1})])]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("ipcMain")]),_:1})])]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("Menu")]),_:1})])]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("Tray")]),_:1})])])]),d,u,B,s("ul",null,[s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("will-finish-launching")]),_:1})]),n(" 在应用完成基本启动进程之后触发，在 "),b,n(" 和 "),A,n(" 中, "),E,n("  事件与 "),m,n(" 事件是相同的。")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[_]),_:1})]),n(" 当 "),w,n(" 完成初始化后触发，绝大部分情况下，你必须在 "),h,n(" 事件句柄中处理所有事务。")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("window-all-closed")]),_:1})]),n(" 所有窗口都关闭的时候触发，在 "),f,n(" 和 "),g,n(" 里，所有窗口都退出的时候通常是应用退出的时候，如果你没有监听此事件并且所有窗口都关闭了，默认的行为是控制退出程序；但如果你监听了此事件，你可以控制是否退出程序。 如果用户按下了  "),C,n("，或者开发者调用了  "),v,n("，"),q,n(" 会首先关闭所有的窗口然后触发  "),T,n("  事件，在这种情况下 "),k,n("  事件不会被触发。")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("before-quit")]),_:1})]),n(" 退出应用之前的时候触发")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("will-quit")]),_:1})]),n(" 即将退出应用的时候触发")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("quit")]),_:1})]),n(" 应用退出的时候触发")])]),x,s("ul",null,[s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("active")]),_:1})]),P,n("当应用处于激活状态时")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("browser-window-created")]),_:1})]),n(" 当一个 "),S,n(" 被创建的时候")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("browser-window-focus")]),_:1})]),n(" 当一个 "),R,n(" 处于激活状态的时候")])]),V,s("ul",null,[s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("app.quit()")]),_:1})]),n(" 用于退出应用")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("app.getPath(name)")]),_:1})]),n(" 用于获取一些系统目录，对于存放应用的配置文件等很有用")]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("app.focus()")]),_:1})]),n(" 用于激活应用，不同系统激活逻辑不一样。")])]),W,s("p",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("BrowerView：")]),_:1})]),n(" 创建和控制视图，"),M,n("  被用来让  "),I,n("  嵌入更多的 web 内容，它就像一个子窗口，除了它的位置是相对于父窗口，这意味着可以替代 "),j,n(" 标签。")]),s("p",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("BrowerWindow：")]),_:1})]),n(" 创建和控制浏览器窗口。")]),N,O,s("p",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("webwiew 的作用是用来嵌入外来不受信任资源，实现外来资源与本地资源的隔离，保证嵌入资源的安全性。")]),_:1})])]),z,s("ul",null,[s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("ipcMain 与 ipcRenderer")]),_:1})])]),s("li",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("webContent")]),_:1})])])]),$,s("p",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("ipcRenderer: ")]),_:1})]),n(" 可以使用它提供的一些方法从渲染进程 "),L,n(" 发送同步或异步的消息到主进程。 也可以接收主进程回复的消息。")]),s("p",null,[s("strong",null,[a(l,{color:"FF9D00"},{default:o(()=>[n("ipcMain：")]),_:1})]),n(" 从主进程到渲染进程的异步通信。")]),Q])}const ns=e(i,[["render",U]]);export{ss as __pageData,ns as default};
