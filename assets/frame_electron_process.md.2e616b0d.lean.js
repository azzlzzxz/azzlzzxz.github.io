import{_ as e,B as r,o as t,c,x as s,D as l,z as p,a as n,Q as o}from"./chunks/framework.a5035e6c.js";const S=JSON.parse('{"title":"Electron 的主进程&渲染进程","description":"","frontmatter":{},"headers":[],"relativePath":"frame/electron/process.md","lastUpdated":1699440839000}'),i={name:"frame/electron/process.md"},F=s("h1",{id:"electron-的主进程-渲染进程",tabindex:"-1"},[n("Electron 的主进程&渲染进程 "),s("a",{class:"header-anchor",href:"#electron-的主进程-渲染进程","aria-label":'Permalink to "Electron 的主进程&渲染进程"'},"​")],-1),y=s("h2",{id:"主进程",tabindex:"-1"},[n("主进程 "),s("a",{class:"header-anchor",href:"#主进程","aria-label":'Permalink to "主进程"'},"​")],-1),D=s("p",null,"主进程下的几个重要的模块：",-1),u=s("h3",{id:"app",tabindex:"-1"},[n("app "),s("a",{class:"header-anchor",href:"#app","aria-label":'Permalink to "app"'},"​")],-1),B=s("p",null,"控制应用程序的事件生命周期。",-1),b=s("p",null,"app 的常用生命周期钩子如下：",-1),d=o("",2),A=s("p",null,"当然，app 这个模块除了上述的一些事件钩子之外，还有一些很常用的方法：",-1),E=s("h3",{id:"browerwindow-与-browerview",tabindex:"-1"},[n("BrowerWindow 与 BrowerView： "),s("a",{class:"header-anchor",href:"#browerwindow-与-browerview","aria-label":'Permalink to "BrowerWindow 与 BrowerView："'},"​")],-1),m=s("p",null,[s("strong",null,"webview")],-1),w=s("p",null,"webview 是网页上的元素。",-1),f=o("",17),_=s("h3",{id:"ipcmain-与-ipcrenderer",tabindex:"-1"},[n("ipcMain 与 ipcRenderer "),s("a",{class:"header-anchor",href:"#ipcmain-与-ipcrenderer","aria-label":'Permalink to "ipcMain 与 ipcRenderer"'},"​")],-1),h=o("",11);function g(C,v,q,T,k,x){const a=r("font");return t(),c("div",null,[F,y,D,s("ul",null,[s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("app")]),_:1})])]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("BrowerWindow 与 BrowerView")]),_:1})])]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("ipcMain")]),_:1})])]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("Menu")]),_:1})])]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("Tray")]),_:1})])])]),u,B,b,s("ul",null,[s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("will-finish-launching")]),_:1})]),n(" 在应用完成基本启动进程之后触发，在 Windows 和 Linux 中, will-finish-launching  事件与  ready  事件是相同的。")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("ready")]),_:1})]),n(" 当 electron 完成初始化后触发，绝大部分情况下，你必须在 ready 事件句柄中处理所有事务。")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("window-all-closed")]),_:1})]),n(" 所有窗口都关闭的时候触发，在 windows 和 linux 里，所有窗口都退出的时候通常是应用退出的时候，如果你没有监听此事件并且所有窗口都关闭了，默认的行为是控制退出程序；但如果你监听了此事件，你可以控制是否退出程序。 如果用户按下了  Cmd + Q，或者开发者调用了  app.quit()，Electron 会首先关闭所有的窗口然后触发  will-quit  事件，在这种情况下  window-all-closed  事件不会被触发。")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("before-quit")]),_:1})]),n(" 退出应用之前的时候触发")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("will-quit")]),_:1})]),n(" 即将退出应用的时候触发")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("quit")]),_:1})]),n(" 应用退出的时候触发")])]),d,s("ul",null,[s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("active")]),_:1})]),n("（仅 macOS）当应用处于激活状态时")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("browser-window-created")]),_:1})]),n(" 当一个 BrowserWindow 被创建的时候")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("browser-window-focus")]),_:1})]),n(" 当一个 BrowserWindow 处于激活状态的时候")])]),A,s("ul",null,[s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("app.quit()")]),_:1})]),n(" 用于退出应用")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("app.getPath(name)")]),_:1})]),n(" 用于获取一些系统目录，对于存放应用的配置文件等很有用")]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("app.focus()")]),_:1})]),n(" 用于激活应用，不同系统激活逻辑不一样。")])]),E,s("p",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("BrowerView：")]),_:1})]),n(" 创建和控制视图，BrowserView  被用来让  BrowserWindow  嵌入更多的 web 内容，它就像一个子窗口，除了它的位置是相对于父窗口，这意味着可以替代 webview 标签。")]),s("p",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("BrowerWindow：")]),_:1})]),n(" 创建和控制浏览器窗口。")]),m,w,s("p",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("webwiew 的作用是用来嵌入外来不受信任资源，实现外来资源与本地资源的隔离，保证嵌入资源的安全性。")]),_:1})])]),f,s("ul",null,[s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("ipcMain 与 ipcRenderer")]),_:1})])]),s("li",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("webContent")]),_:1})])])]),_,s("p",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("ipcRenderer: ")]),_:1})]),n(" 可以使用它提供的一些方法从渲染进程 (web 页面) 发送同步或异步的消息到主进程。 也可以接收主进程回复的消息。")]),s("p",null,[s("strong",null,[l(a,{color:"FF9D00"},{default:p(()=>[n("ipcMain：")]),_:1})]),n(" 从主进程到渲染进程的异步通信。")]),h])}const R=e(i,[["render",g]]);export{S as __pageData,R as default};
